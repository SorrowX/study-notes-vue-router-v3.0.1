<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>basic</title>
		<style>
			ul {
				list-style: none;
			}
		</style>
	</head>
	<body>
		<div id="app"></div>
		<script src="../../dist/vue.js"></script>
		<script src="../../dist/vue-router.js"></script>
		<script>
			// 1.定义路由组件
			const Home = {
				created() {
					console.log(this.$router)
					console.log(this.$route)
					console.log(this.$router === router)
				},
				template: `
				    <div>
				        <span>home</span>
				    </div>
				` 
			}
			const Foo = {
				created() {
					console.log(this.$router)
				},
				template: `
				    <div>
				        <span>foo</span>
				    </div>
				`
			}
			const Bar = {
				created() {
					console.log(this.$router)
				},
				template: `
				    <div>
				        <span>bar</span>
				    </div>
				`
			}

			// 2.创建路由实例
			const router = new VueRouter({
				/*mode: 'history',
				base: '/app/',*/
				routes: [
                    {
                    	path: '/',
                    	component: Home
                    },
                    {
                    	path: '/foo',
                    	component: Foo
                    },
                    {
                    	path: '/bar',
                    	component: Bar
                    }
				]
			})

			// 3.注入路由实例
			let res = Vue.compile(`
                <div id="app">
                    <h3>Basic</h3>
                    <ul>
                        <li>
                            <router-link to="/"> Home组件 </router-link>
                        </li>
                        <li>
                            <router-link to="/foo"> Foo组件 </router-link>
                        </li>
                        <li>
                            <router-link to="/bar"> Bar组件 </router-link>
                        </li>
                        <router-link 
                            tag="li" to="/bar" 
                            :event="['mousedown', 'touchstart']"
                        >
                            <a> Bar组件2 </a>
                        </router-link>
                    </ul>
                    <router-view class="view"></router-view>
                </div>
			`)
			console.log(res)

			let vm = new Vue({
				router,
				render: res.render,
				staticRenderFns: res.staticRenderFns
			}).$mount('#app')
		</script>
	</body>
</html>