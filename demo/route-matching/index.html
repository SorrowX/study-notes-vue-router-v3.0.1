<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>route-matching</title>
	<style>
		ul {
			list-style: none;
		}
	</style>
</head>
<body>
	<div id="app"></div>
	<script src="../../dist/vue.js"></script>
	<script src="../../dist/vue-router.js"></script>
	<script>

		let router = new VueRouter({
			routes: [
			    {
			    	path: '/'
			    },
			    {
			    	path: '/params/:foo/:bar' // 动态路由参数前面加上:
			    },
			    {
			    	path: '/optional-params/:foo?' // 可选参数前面加上?
			    },
			    {
			    	path: '/params-with-regex/:id(\\d+)' // 正则
			    },
			    {
			    	path: '/asterisk/*' // 匹配任何路由
			    },
			    {
			    	path: '/optional-group/(foo/)?bar' // 使路径的一部分可选，用括号括起来并添加“？”
			    }
			]
		})
		
		let res = Vue.compile(`
			<div id="app">
			    <h3> Route Matching </h3>
			    <ul>
			        <li>
			            <router-link to="/"> / </router-link>
			        </li>

			        <li>
			            <router-link to="/params/foo/bar"> /params/foo/bar </router-link>
			        </li>

			        <li>
			            <router-link to="/optional-params"> /optional-params </router-link>
			        </li>
			        <li>
			            <router-link to="/optional-params/foo"> /optional-params/foo </router-link>
			        </li>

			        <li>
			            <router-link to="/params-with-regex/123"> /params-with-regex/123 </router-link>
			        </li>
			        <li>
			            <router-link to="/params-with-regex/abc"> /params-with-regex/abc </router-link>
			        </li>

			        <li>
			            <router-link to="/asterisk/foo"> /asterisk/foo </router-link>
			        </li>
			        <li>
			            <router-link to="/asterisk/foo/bar"> /asterisk/foo/bar </router-link>
			        </li>

			        <li>
			            <router-link to="/optional-group/bar"> /optional-group/bar </router-link>
			        </li>
			        <li>
			            <router-link to="/optional-group/foo/bar"> /optional-group/foo/bar </router-link>
			        </li>
			    </ul>
			    <p> Route Context </p>
			    <pre> {{ JSON.stringify($route, null, 4) }} </pre>
			</div>
		`)

		let vm = new Vue({
			router,
			watch: {
				'$route'(to, from) {
					console.log('/ 对路由变化作出响应...', to, from)
				}
			},
			created() {
				console.log(this.$router)
			},
			render: res.render,
			staticRenderFns: res.staticRenderFns
		}).$mount('#app')
	</script>
</body>
</html>